(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{Pctu:function(t,e,n){"use strict";n.r(e),n.d(e,"LoggedModule",(function(){return A}));var r=n("ofXK"),o=n("tyNb"),a=n("fXoL"),i=n("XiUz");let c=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Fb({type:t,selectors:[["app-overview"]],decls:2,vars:0,consts:[["fxLayout","column","fxLayoutAlign","center center","fxFlexFill","",1,"primary",2,"font-size","24pt"]],template:function(t,e){1&t&&(a.Qb(0,"div",0),a.vc(1," Panel dla zalogowanych u\u017cytkownik\xf3w.\n"),a.Pb())},directives:[i.f,i.e,i.h],styles:[""]}),t})();var s=n("FKr1");let l=(()=>{class t extends s.h{format(t,e){if("input"===e){let e=t.getDate().toString();e=+e<10?"0"+e:e;let n=(t.getMonth()+1).toString();return n=+n<10?"0"+n:n,`${e}.${n}.${t.getFullYear()}`}return t.toDateString()}}return t.\u0275fac=function(e){return p(e||t)},t.\u0275prov=a.Hb({token:t,factory:t.\u0275fac}),t})();const p=a.Sb(l),m={parse:{dateInput:{month:"short",year:"numeric",day:"numeric"}},display:{dateInput:"input",monthYearLabel:{year:"numeric",month:"numeric"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}},g="dateFromBiggerThanToError",h="temperatureFromBiggerThanToError";var b=n("XNiG"),d=n("1G5W"),u=n("vkgz"),f=n("pLZG"),y=n("lJxs"),P=n("3Pt+"),v=n("AytR"),x=n("tk/3");let M=(()=>{class t{constructor(t){this.http=t}fetchImages(){return this.http.get(v.a.data).pipe(Object(y.a)(t=>t.photos.map(e=>{const n=t.temperatures.find(t=>t.id===e.id);return{id:e.id,imageName:e.name,imageUrl:`${v.a.imageAccess}${e.image}`,imageDate:new Date(e.date_taken),firstTemperature:Number(n.temperature1),secondTemperature:Number(n.temperature2)}})))}}return t.\u0275fac=function(e){return new(e||t)(a.Ub(x.a))},t.\u0275prov=a.Hb({token:t,factory:t.\u0275fac}),t})();var O=n("NFeN"),C=n("kmnG"),w=n("qFsG"),_=n("TN/R"),Q=n("bTqV"),I=n("Ynp+"),k=n("znSr");function T(t,e){1&t&&(a.Qb(0,"mat-error"),a.vc(1,"Wprowadzono nieprawid\u0142owy zakres dat"),a.Pb())}function F(t,e){1&t&&(a.Qb(0,"mat-error"),a.vc(1,"Wprowadzono nieprawid\u0142owy zakres temperatur"),a.Pb())}function B(t,e){1&t&&(a.Qb(0,"mat-error"),a.vc(1,"Wprowadzono nieprawid\u0142owy zakres dat"),a.Pb())}function S(t,e){1&t&&(a.Qb(0,"mat-error"),a.vc(1,"Wprowadzono nieprawid\u0142owy zakres temperatur"),a.Pb())}function j(t,e){if(1&t&&(a.Qb(0,"div",30),a.Qb(1,"div",31),a.vc(2," Zdj\u0119cie "),a.Mb(3,"img",32),a.Pb(),a.Qb(4,"div",33),a.Qb(5,"span"),a.Mb(6,"mat-icon",34),a.vc(7),a.cc(8,"date"),a.Pb(),a.Qb(9,"span"),a.Mb(10,"mat-icon",35),a.vc(11),a.Pb(),a.Pb(),a.Pb()),2&t){const t=e.$implicit;a.Bb(3),a.hc("src",t.imageUrl,a.mc),a.Bb(4),a.xc(" ",a.ec(8,3,t.imageDate,"dd.MM.yyyy")," "),a.Bb(4),a.xc(" ",t.firstTemperature," \xb0C ")}}function D(t,e){if(1&t&&(a.Ob(0),a.vc(1),a.Nb()),2&t){const t=a.bc().$implicit;a.Bb(1),a.xc(" ",t," ")}}function E(t,e){1&t&&(a.Ob(0),a.vc(1," ... "),a.Nb())}function z(t,e){if(1&t){const t=a.Rb();a.Qb(0,"span",36),a.Yb("click",(function(){a.lc(t);const n=e.$implicit;return a.bc().handleChangePage(n)})),a.uc(1,D,2,1,"ng-container",11),a.uc(2,E,2,0,"ng-container",11),a.Pb()}if(2&t){const t=e.$implicit,n=a.bc();a.Db("photo-library--content--pagination--placeholder",-1===t)("photo-library--content--pagination--page--active",t===n.currentPage),a.Bb(1),a.hc("ngIf",-1!==t),a.Bb(1),a.hc("ngIf",-1===t)}}class N{isErrorState(t,e){return[h,g].map(n=>t.hasError(n)||e.hasError(n)).find(t=>!!t)}}const $=[{path:"overview",component:c},{path:"photo-library",component:(()=>{class t{constructor(t,e,n){this.loggedService=e,this.document=n,this.currentPage=1,this.listStyle={"min-height":"712px"},this.customErrorMatcher=new N,this.currentImages=[],this.allImages=[],this.untilDestroy$=new b.a,this.form=t.group({dateFrom:[void 0],dateTo:[void 0],temperatureFrom:[void 0],temperatureTo:[void 0],pagination:[8]},{validators:[t=>{const e=t.get("dateFrom").value,n=t.get("dateTo").value;return e&&n?e.getTime()>n.getTime()?{dateFromBiggerThanToError:!0}:void 0:null},t=>{const e=t.get("temperatureFrom").value,n=t.get("temperatureTo").value;return e&&n?e>n?{temperatureFromBiggerThanToError:!0}:void 0:null}]}),this.form.controls.pagination.valueChanges.pipe(Object(d.a)(this.untilDestroy$),Object(u.a)(t=>{let e="712px";12===t&&(e="1040px"),16===t&&(e="1368px"),20===t&&(e="1696px"),this.listStyle={"min-height":e}}),Object(f.a)(t=>this.currentPage>Math.ceil(this.currentImages.length/t)),Object(y.a)(t=>Math.ceil(this.currentImages.length/t))).subscribe(t=>this.currentPage=t),this.loggedService.fetchImages().pipe(Object(d.a)(this.untilDestroy$)).subscribe({next:t=>{this.allImages=t,this.currentImages=this.allImages,console.log(this.currentImages)}})}get images(){const{pagination:t}=this.form.value,e=this.currentPage*t;return this.currentImages.slice(e-t,e)}get pages(){const{pagination:t}=this.form.value,e=Math.ceil(this.currentImages.length/t);let n=[];return Array(5).fill(0).forEach((t,e)=>n.push(this.currentPage-2+e)),n=n.filter(t=>t>0).filter(t=>t>=this.currentPage-2&&t<=this.currentPage+2).filter(t=>t>0&&t<=e),n[n.length-1]<e&&(n=[...n,-1,e]),n[0]>1&&(n=[1,-1,...n]),n}ngOnDestroy(){this.untilDestroy$.next(),this.untilDestroy$.complete()}handleChangePage(t){-1!==t&&(this.currentPage=t)}handleSwitchPage(t){const{pagination:e}=this.form.value,n=t&&1===this.currentPage,r=!t&&this.currentPage===Math.ceil(this.currentImages.length/e);n||r||(this.currentPage+=t?-1:1,this.document.querySelector(".mat-toolbar").scrollIntoView({behavior:"smooth"}))}handleRefreshImages(){}handleSubmitForm(){const{dateFrom:t,dateTo:e,temperatureFrom:n,temperatureTo:r}=this.form.value,o=null!==n,a=null!==r;(t||e||o||a)&&(this.form.hasError(g)||this.form.hasError(h)||(this.currentImages=this.allImages.filter(i=>{let c=!0,s=!0,l=!0,p=!1;return t&&(c=t.getTime()<=i.imageDate.getTime()),e&&(s=e.getTime()>=i.imageDate.getTime()),o&&a&&(l=i.firstTemperature>=n&&i.firstTemperature<=r,p=!0),!p&&o&&(l=i.firstTemperature>=n,p=!0),!p&&a&&(l=i.firstTemperature<=r,p=!0),c&&s&&l}),this.currentPage=1))}createCustomDayString(t){const e=new Date;return e.setDate(e.getDate()+t),e}}return t.\u0275fac=function(e){return new(e||t)(a.Lb(P.g),a.Lb(M),a.Lb(r.e))},t.\u0275cmp=a.Fb({type:t,selectors:[["app-photo-library"]],features:[a.Ab([{provide:s.a,useClass:l},{provide:s.c,useValue:m}])],decls:63,vars:20,consts:[["fxLayout","column","fxLayoutAlign","center center","fxFlex","",1,"photo-library",3,"formGroup"],[1,"photo-library--content"],[1,"photo-library--content--header"],[1,"primary"],["svgIcon","photo_library"],[1,"photo-library--content--search"],[1,"photo-library--content--search--row"],["appearance","outline"],["matInput","","formControlName","dateFrom",3,"matDatepicker","errorStateMatcher"],["matSuffix","",3,"for"],["datePickerFrom",""],[4,"ngIf"],["matInput","","formControlName","temperatureFrom",3,"errorStateMatcher"],["matSuffix","","svgIcon","temperature"],["matInput","","formControlName","dateTo",3,"matDatepicker","errorStateMatcher"],["datePickerTo",""],["matInput","","formControlName","temperatureTo",3,"errorStateMatcher"],[1,"photo-library--content--submit",3,"click"],["mat-raised-button","","type","submit"],[1,"photo-library--content--pagination-refresh"],["name","pagination","formControlName","pagination"],[3,"value"],["mat-raised-button","",3,"click"],["svgIcon","refresh"],[1,"photo-library--content--list",3,"ngStyle"],["class","photo-library--content--list--photo",4,"ngFor","ngForOf"],[1,"photo-library--content--pagination"],["mat-mini-fab","",3,"click"],["svgIcon","chevron"],["class","photo-library--content--pagination--page",3,"photo-library--content--pagination--placeholder","photo-library--content--pagination--page--active","click",4,"ngFor","ngForOf"],[1,"photo-library--content--list--photo"],[1,"photo-library--content--list--photo--image"],["alt","",3,"src"],[1,"photo-library--content--list--photo--description"],["svgIcon","calendar"],["svgIcon","temperature"],[1,"photo-library--content--pagination--page",3,"click"]],template:function(t,e){if(1&t&&(a.Qb(0,"form",0),a.Qb(1,"div",1),a.Qb(2,"div",2),a.Qb(3,"h1",3),a.Mb(4,"mat-icon",4),a.vc(5," Biblioteka zdj\u0119\u0107 "),a.Pb(),a.Pb(),a.Qb(6,"div",5),a.Qb(7,"div",6),a.Qb(8,"mat-form-field",7),a.Qb(9,"mat-label"),a.vc(10,"Data od"),a.Pb(),a.Mb(11,"input",8),a.Mb(12,"mat-datepicker-toggle",9),a.Mb(13,"mat-datepicker",null,10),a.uc(15,T,2,0,"mat-error",11),a.Pb(),a.Qb(16,"mat-form-field",7),a.Qb(17,"mat-label"),a.vc(18,"Temperatura od"),a.Pb(),a.Mb(19,"input",12),a.Mb(20,"mat-icon",13),a.uc(21,F,2,0,"mat-error",11),a.Pb(),a.Pb(),a.Qb(22,"div",6),a.Qb(23,"mat-form-field",7),a.Qb(24,"mat-label"),a.vc(25,"Data do"),a.Pb(),a.Mb(26,"input",14),a.Mb(27,"mat-datepicker-toggle",9),a.Mb(28,"mat-datepicker",null,15),a.uc(30,B,2,0,"mat-error",11),a.Pb(),a.Qb(31,"mat-form-field",7),a.Qb(32,"mat-label"),a.vc(33,"Temperatura do"),a.Pb(),a.Mb(34,"input",16),a.Mb(35,"mat-icon",13),a.uc(36,S,2,0,"mat-error",11),a.Pb(),a.Pb(),a.Pb(),a.Qb(37,"div",17),a.Yb("click",(function(){return e.handleSubmitForm()})),a.Qb(38,"button",18),a.vc(39,"Wyszukaj"),a.Pb(),a.Pb(),a.Qb(40,"div",19),a.Qb(41,"span"),a.vc(42,"Ilo\u015b\u0107 wynik\xf3w na jednej stronie"),a.Pb(),a.Qb(43,"mat-button-toggle-group",20),a.Qb(44,"mat-button-toggle",21),a.vc(45,"8"),a.Pb(),a.Qb(46,"mat-button-toggle",21),a.vc(47,"12"),a.Pb(),a.Qb(48,"mat-button-toggle",21),a.vc(49,"16"),a.Pb(),a.Qb(50,"mat-button-toggle",21),a.vc(51,"20"),a.Pb(),a.Pb(),a.Qb(52,"button",22),a.Yb("click",(function(){return e.handleRefreshImages()})),a.Mb(53,"mat-icon",23),a.vc(54," Od\u015bwie\u017c "),a.Pb(),a.Pb(),a.Qb(55,"div",24),a.uc(56,j,12,6,"div",25),a.Pb(),a.Qb(57,"div",26),a.Qb(58,"button",27),a.Yb("click",(function(){return e.handleSwitchPage(!0)})),a.Mb(59,"mat-icon",28),a.Pb(),a.uc(60,z,3,6,"span",29),a.Qb(61,"button",27),a.Yb("click",(function(){return e.handleSwitchPage(!1)})),a.Mb(62,"mat-icon",28),a.Pb(),a.Pb(),a.Pb(),a.Pb()),2&t){const t=a.jc(14),n=a.jc(29);a.hc("formGroup",e.form),a.Bb(11),a.hc("matDatepicker",t)("errorStateMatcher",e.customErrorMatcher),a.Bb(1),a.hc("for",t),a.Bb(3),a.hc("ngIf",e.form.hasError("dateFromBiggerThanToError")),a.Bb(4),a.hc("errorStateMatcher",e.customErrorMatcher),a.Bb(2),a.hc("ngIf",e.form.hasError("temperatureFromBiggerThanToError")),a.Bb(5),a.hc("matDatepicker",n)("errorStateMatcher",e.customErrorMatcher),a.Bb(1),a.hc("for",n),a.Bb(3),a.hc("ngIf",e.form.hasError("dateFromBiggerThanToError")),a.Bb(4),a.hc("errorStateMatcher",e.customErrorMatcher),a.Bb(2),a.hc("ngIf",e.form.hasError("temperatureFromBiggerThanToError")),a.Bb(8),a.hc("value",8),a.Bb(2),a.hc("value",12),a.Bb(2),a.hc("value",16),a.Bb(2),a.hc("value",20),a.Bb(5),a.hc("ngStyle",e.listStyle),a.Bb(1),a.hc("ngForOf",e.images),a.Bb(4),a.hc("ngForOf",e.pages)}},directives:[P.H,P.s,i.f,i.e,i.b,P.j,O.a,C.c,C.g,w.b,P.d,_.h,P.r,P.i,_.j,C.j,_.f,r.t,Q.b,I.b,I.a,r.w,k.d,r.s,C.b],pipes:[r.f],styles:[".photo-library[_ngcontent-%COMP%]{flex:1}.photo-library[_ngcontent-%COMP%], .photo-library--content[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:1em;width:100%}.photo-library--content[_ngcontent-%COMP%]{flex-direction:column;align-items:center;flex:1;max-width:1400px}.photo-library--content--header[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;max-width:300px;padding:1em;box-shadow:0 4px 4px rgba(0,0,0,.25);border-radius:10px}.photo-library--content--header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;font-family:montserrat-medium;margin-bottom:unset}.photo-library--content--header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:.5em}.photo-library--content--search[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;flex:1;max-width:900px;box-shadow:0 4px 4px rgba(0,0,0,.25);border-radius:20px;margin-top:-30px;padding:calc(1em + 30px) 1em calc(1em + 15px)}.photo-library--content--search--row[_ngcontent-%COMP%] + .photo-library--content--search--row[_ngcontent-%COMP%]{margin-left:1em}.photo-library--content--search[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}.photo-library--content--search[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:6px}@media (max-width:767px){.photo-library--content--search[_ngcontent-%COMP%]{flex-direction:column}}.photo-library--content--pagination-refresh[_ngcontent-%COMP%]{position:relative;margin-top:20px;display:flex;flex:1;justify-content:space-between;width:100%}.photo-library--content--pagination-refresh[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:20px}.photo-library--content--pagination-refresh[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;left:0;top:-20px}.photo-library--content--pagination[_ngcontent-%COMP%]{display:flex}.photo-library--content--pagination--page[_ngcontent-%COMP%], .photo-library--content--pagination--placeholder[_ngcontent-%COMP%]{width:21px;display:flex;justify-content:center;align-items:center;cursor:pointer;margin:0 10px}.photo-library--content--pagination--page--active[_ngcontent-%COMP%]{font-weight:700;color:var(--primary-color);font-size:18px}.photo-library--content--pagination[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 10px}.photo-library--content--pagination[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child   mat-icon[_ngcontent-%COMP%]{transform:rotate(180deg)}.photo-library--content--submit[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;max-width:450px;margin-top:-25px}.photo-library--content--submit[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{transition:all .3s ease-in-out;width:100%;height:50px;border-radius:20px;background-color:var(--accent-color);color:#fff;font-size:18px;font-weight:600}.photo-library--content--submit[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:var(--primary-color)}.photo-library--content--list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;width:calc(100% + 2em);padding:2em 0;margin:-1em}.photo-library--content--list--photo[_ngcontent-%COMP%]{transition:all .5s ease-in-out;display:flex;flex-direction:column;box-shadow:0 4px 4px rgba(0,0,0,.25);max-width:328px;margin:1em;cursor:pointer;height:300px;border-radius:5px}.photo-library--content--list--photo[_ngcontent-%COMP%]:hover{margin-top:-10px}.photo-library--content--list--photo[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.25)}.photo-library--content--list--photo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transition:all 3s ease-in-out}.photo-library--content--list--photo--image[_ngcontent-%COMP%]{overflow:hidden;border-top-left-radius:5px;border-top-right-radius:5px;background-color:#e8eaed;height:100%;width:328px;color:#000;font-size:18px;display:flex;justify-content:center;align-items:center}.photo-library--content--list--photo--image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:328px}.photo-library--content--list--photo--description[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:1em}.photo-library--content--list--photo--description[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex}.photo-library--content--list--photo--description[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:5px;margin-top:-2px}.photo-library--content--list--photo--description[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{stroke:var(--accent-color)}.photo-library--content--list--photo--description[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{margin-top:1em}"]}),t})()},{path:"video-stream",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Fb({type:t,selectors:[["app-video-stream"]],decls:9,vars:0,consts:[[1,"video-stream"],[1,"video-stream--content"],[1,"video-stream--content--header"],[1,"primary"],["svgIcon","live_tv"],[1,"video-stream--content--video-wrapper"],[1,"video-stream--content--video-wrapper--content"],["svgIcon","play_video"]],template:function(t,e){1&t&&(a.Qb(0,"div",0),a.Qb(1,"div",1),a.Qb(2,"div",2),a.Qb(3,"h1",3),a.Mb(4,"mat-icon",4),a.vc(5," Strumie\u0144 wideo "),a.Pb(),a.Pb(),a.Qb(6,"div",5),a.Qb(7,"div",6),a.Mb(8,"mat-icon",7),a.Pb(),a.Pb(),a.Pb(),a.Pb())},directives:[O.a],styles:[".video-stream[_ngcontent-%COMP%]{flex:1;width:calc(100% - 2em)}.video-stream[_ngcontent-%COMP%], .video-stream--content[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:1em}.video-stream--content[_ngcontent-%COMP%]{flex-direction:column;align-items:center;flex:1;width:100%;max-width:1400px}.video-stream--content--header[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;max-width:300px;padding:1em;box-shadow:0 4px 4px rgba(0,0,0,.25);border-radius:10px}.video-stream--content--header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;font-family:montserrat-medium;margin-bottom:unset}.video-stream--content--header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:.5em}.video-stream--content--video-wrapper[_ngcontent-%COMP%]{width:900px;padding:1em;box-shadow:0 4px 4px rgba(0,0,0,.25);border-radius:10px;height:600px}.video-stream--content--video-wrapper--content[_ngcontent-%COMP%]{display:flex;flex:1;background-color:#e8eaed;justify-content:center;align-items:center;height:100%;border-radius:5px}.video-stream--content--video-wrapper--content[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{width:96px;height:96px}"]}),t})()}];let L=(()=>{class t{}return t.\u0275mod=a.Jb({type:t}),t.\u0275inj=a.Ib({factory:function(e){return new(e||t)},imports:[[o.e.forChild($)],o.e]}),t})();var Y=n("PCNd");let A=(()=>{class t{}return t.\u0275mod=a.Jb({type:t}),t.\u0275inj=a.Ib({factory:function(e){return new(e||t)},providers:[M],imports:[[r.c,L,Y.SharedModule]]}),t})()}}]);